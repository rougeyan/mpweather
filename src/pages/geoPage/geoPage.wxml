<!--pages/geoPage/geoPage.wxml-->
<view class="geo-container">

  <!-- 搜索板块 -->
  <view class="search-block">
    <!-- 遮罩 -->
    <view class="search-mask {{focusSearchInput?'active':''}}"></view>
    <!-- 搜索框 -->
    <view class="search-bar">
      <view class="search-input-wrap">
        <text class="iconfont icon-search"></text>
        <input class="search-input" placeholder="搜索城市"  bindinput="searchInputEvent"/>
      </view>
      <view class="search-btn {{focusSearchInput?'active':''}}">搜索</view>
    </view>
    
    <!-- 搜索结果列表 -->
    <block>
      <view wx:if="{{switchSearchResult && searchResultSugList.length>0}}" class="search-result-list">
        <view wx:for="{{searchResultSugList}}" wx:key="{{unique}}" class="search-result-item">
          <text class="place-title">{{item.title}}</text>
          <text class="place-address">{{item.addr}}</text>
        </view>
      </view>
    </block>
  </view>

  <!-- 左侧字母栏目 -->
  <view class="letter-side-bar">
    <view class="letter-item {{(barIndex === index) ? 'active' : ''}}" wx:for="{{letterSlideBar}}" wx:key="{{index}}">{{item}}</view>
  </view>

  <!-- 城市列表 -->
  <scroll-view class="city-list-wrapper" scroll-y="{{true}}" bindscroll="letterScroll">
    <block wx:for="{{cityList}}" wx:key="{{index}}">
     <!-- 字母索引条 -->
      <block wx:if="{{index === 0 || (cityList[index - 1].initial[0] !== item.initial[0])}}">
        <view catchTap="{{catchGeo}}" class="city-list-letter" id="{{'title_' + item.initial[0]}}">{{item.initial[0]}}</view>
      </block>
      <view bindtap="tapCityItem" data-item="{{item}}" class="city-list-item">{{item.fullname}}</view>
    </block>


  </scroll-view>

</view>

